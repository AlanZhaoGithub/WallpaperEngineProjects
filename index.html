<!DOCTYPE html>
<html>

<style>
body {
	padding: 0px;
	margin: 0px;
	overflow: hidden;
}
canvas{
	padding: 0px;
	margin: 0px;
}

img{
	display: none;
	visibility: hidden;
}

</style>


<body>
	<canvas id="myCanvas" width = "1366" height = "768"></canvas>
			
	<img id = "animegirl" src = "images/anime_girl.jpg" width = "1366" height = "768">
</body>


<script>

	
function wallpaperAudioListener(audioArray) {
	
	var audioCanvas = document.getElementById("myCanvas");

	var audioCanvasCtx = audioCanvas.getContext("2d");

	var img = document.getElementById("animegirl");
	<!-- audioCanvasCtx.fillStyle = 'rgb(0,0,0)'; -->

	<!-- audioCanvasCtx.fillRect(0,0,1366,768);
 -->

	audioCanvasCtx.drawImage(img,0,0,1366,768);

	var barWidth = Math.round(1.0 / 128.0 * audioCanvas.width)
	var halfCount = audioArray.length / 2;
	audioCanvasCtx.fillStyle = 'rgb(248,164,249)';
	for (var i = 0; i < halfCount; ++i) {
		var height = audioCanvas.height * audioArray[i];
		audioCanvasCtx.fillRect(barWidth * i, audioCanvas.height - height, barWidth,height);
	}


	for (var i = halfCount; i < audioArray.length; ++i) {
		var height = audioCanvas.height * audioArray[191 - i];
		audioCanvasCtx.fillRect(barWidth * i, audioCanvas.height - height, barWidth, height);
	}
}

window.onload = function() {
window.wallpaperRegisterAudioListener(wallpaperAudioListener);
};


</script>

</html>